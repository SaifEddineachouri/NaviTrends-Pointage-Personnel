<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">

<app-Header></app-Header>
<h1>Employee</h1>
<br>
<form #f="ngForm">
  <div class="row">
  <div class="col-5">
    <label for="Cin">Numero CIN</label>
    <input type="number"  name="Cin" minlength="8" class="form-control" placeholder="NCIN" [(ngModel)]="selectedEmployee.Cin">
  </div>
</div>
<br>
  <div class="row">
    <div class="col-5">
      <label for="Nom"> Nom</label>
      <input type="text"  class="form-control" name="nom" placeholder="Entrer Nom" [(ngModel)]="selectedEmployee.Nom">
    </div>
    <div class="col-5">
      <label for="Prenom"> Prenom</label>
      <input type="text"  class="form-control" name="prenom" placeholder="Entrer Prenom" [(ngModel)]="selectedEmployee.Prenom">
    </div>
  </div>
  <br>
  <div class="row">
    <div class="col-10">
      <label for="DateNaissance">Date De Naissance</label>
      <input type="Date"  class="form-control" name="dateNaissance" placeholder="Entrer Date de Naissance" [(ngModel)]="selectedEmployee.DateNaissance">
    </div>
  </div>
  <br>

<div class="row">
  <div class="col-5">
    <label for="Ncnss">Numero CNSS</label>
    <input type="number"  name="ncnss" minlength="8" class="form-control" placeholder="NCNSS" [(ngModel)]="selectedEmployee.Ncnss">
  </div>
</div>
 
  

  <br>
  <div class="row">
    <div class="col-10">
      <label for="DateEmbauche">Date Embauche</label>
      <input type="date"   name="dateEmbauche"  class="form-control" placeholder="Date Embauche" [(ngModel)]="selectedEmployee.DateEmbauche">
    </div>
  </div>

  <br>
  <div class="row">
    <label for="Salaire" >Salaire</label>
    <div class="input-group mb-3">
      <div class="input-group-prepend">
        <span class="input-group-text">Dt</span>
      </div>
      <div>
        <input type="number"  name="salaire" class="form-control" [(ngModel)]="selectedEmployee.Salaire">
      </div>
    </div>
  </div>
  <label>Regime</label>
  <br>
  
  <select type="list" name="Regime" [(ngModel)]="selectedEmployee.Regime">
    <option value="" disabled default selected hidden>Choisissez Regime SVP</option>
    <option value="48" name="48">48H</option>
    <option value="40" name="40">40H</option>
  </select>
 <br>
 <br>
   <div class="row">
    <label for="Fichier">Ajouter un Fichier</label>
    <div class="input-group mb-3 col-10">
      <div class="input-group-prepend">
        <span class="input-group-text">Ajouter</span>
      </div>
      <div class="custom-file">
        <input type="file" multiple name="fichier" class="custom-file-input" [(ngModel)]="selectedEmployee.Fichier">
        <label class="custom-file-label" for="inputGroupFile01">Choisir Fichier</label>
      </div>
    </div>
  </div> 
  <br>
  <div class="row">
    <div class="col-10">
      <label for="Commentaire">Commentaire</label>
      <input type="text"  name="commentaire"  class="form-control"  id="Commentaire" [(ngModel)]="selectedEmployee.Commentaire">
    </div>
  </div>
  <br>
  <br>
  <input class="btn btn-primary" 
  type="button"
  (click)="createOrUpdateEmployee(f)"
  value="Ajouter Ou Mettre A jour"
/>
</form>
<br>
<br>

<div class="Employee">
  <table class="table table-striped table-bordered">
    <tr>
      <th>Id</th>
      <th>Nom</th>
      <th>Prenom</th>
      <th>Date Naissance</th>
      <th>Numero CIN</th>
      <th>Numero CNSS</th>
      <th>Date Embauche</th>
      <th>Salaire</th>
      <th>Regime</th>
      <th>Commentaire</th>
      <th>Fichier</th>
      <th>Options</th>
    </tr>
    <tr *ngFor="let Employee of Employees">
      <td>{{Employee.Id}}</td>
      <td>{{Employee.Nom}}</td>
      <td>{{Employee.Prenom}}</td>
      <td>{{Employee.DateNaissance}}</td>
      <td>{{Employee.Cin}}</td>
      <td>{{Employee.Ncnss}}</td>
      <td>{{Employee.DateEmbauche}}</td>
      <td>{{Employee.Salaire}} Dt</td>
      <td>{{Employee.Regime}}</td>
      <td>{{Employee.Fichier}}</td>
      <td>{{Employee.Commentaire}}</td>
      <td>
        <button id="edit" (click)="selectEmployee(Employee)" >Modifier</button>
        <button id="del" (click)="deleteEmployee(Employee.Id)">Supprimer</button>
      </td>
    </tr>
  </table>
</div>